<h3>Get Code Snippets</h3>

<script type="text/javascript">
/* trim() from
http://stackoverflow.com/questions/1418050/string-strip-for-javascript
*/
if(typeof(String.prototype.trim) === "undefined")
{
    String.prototype.trim = function() 
    {
        return String(this).replace(/^\s+|\s+$/g, '');
    };
}

/* This script and many more are available free online at
The JavaScript Source!! http://javascript.internet.com
Created by: Robert Nyman | http://robertnyman.com/ */

function removeHTMLTags(strInputCode){
	/* 
			This line is optional, it replaces escaped brackets with real ones, 
			i.e. < is replaced with < and > is replaced with >
	*/	
 	strInputCode = strInputCode.replace(/&(lt|gt);/g, function (strMatch, p1){
	 	return (p1 == "lt")? "<" : ">";
	});
	var strTagStrippedText = strInputCode.replace(/<\/?[^>]+(>|$)/g, "");
	return strTagStrippedText;
}

function showCodeSnippets(withComments) {
  pycode = "";
  blankline = 1;
  var div = document.getElementsByTagName("div");
  for (var i = 0; i < div.length; i++) {
    if (div.item(i).className == "highlight-python") {
      cleanHTML = removeHTMLTags(div.item(i).innerHTML);
      if (cleanHTML.search('>>> ') > -1) {
        cleanHTML = cleanHTML.split('\n');
        for (var j = 0; j < cleanHTML.length; j++) {
          line = cleanHTML[j]
          if (line.indexOf('>>> ') == 0) {
            pycode += line.slice(4) + "\n"
            blankline = 0;
          } else if (line != "") {
            pycode += "# " + line + "\n";
            blankline = 0;
          } else if (blankline == 0) {
            pycode += "\n";
            blankline = 1;
          }
        }
      }
    }
  }
  if (pycode == "") {
    alert("This page does not contain any code snippets.");
  } else {
    alert(pycode);
  }
}
</script>
<p> 
Show Python code snippets as plain text:
<input type="button" onclick="showCodeSnippets(Boolean(0))" value="Get Code" /> </br>
</p>

